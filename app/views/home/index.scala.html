@(user: models.User)(implicit request: RequestHeader)

@import play.api.libs.json._
@import play.api.libs.json.Json._
@import helper.javascriptRouter

@main("Play Story > Home", user) {

}{
<!-- Home CSS imports -->
<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/story/dashboard.css")">
}{
<!-- Home javascript templates -->
@dashboard.layout()
@dashboard.search()
@dashboard.feeds()
@dashboard.tabs()
@dashboard.apps()
@dashboard.inbox()

<!-- Play Javascript routers -->
@javascriptRouter("PlayRoutes")(
  routes.javascript.Dashboard.listen,
  routes.javascript.Dashboard.last,
  routes.javascript.Dashboard.byLevel,
  routes.javascript.Dashboard.bookmarks,
  routes.javascript.Dashboard.bookmark,
  routes.javascript.Dashboard.withContext,
  routes.javascript.Dashboard.comment,
  routes.javascript.Dashboard.more,
  routes.javascript.Dashboard.inbox
)

<script type="text/javascript" src="@routes.Assets.at("javascripts/utils.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/namespace.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/Router.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/ModelsDef.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/Bucket.js")"></script>

<!-- Dashboard -->
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/Server.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/search/searchDOM.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/tabs/TabsDOM.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/inbox/inboxDOM.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/apps/appsDOM.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/feeds/feedsPresentDOM.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/feeds/feedsPastDOM.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/search/searchView.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/tabs/TabsView.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/inbox/inboxView.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/apps/appsView.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/feeds/feedsView.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/layoutDOM.js")"></script>
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/dashboard/dashboard.js")"></script>

<!-- Home -->
<script type="text/javascript" src="@routes.Assets.at("javascripts/home/home.js")"></script>

<!-- Init Home page -->
<script type="text/javascript">
$(document).ready(function() {
    PlayStory.Home.Dashboard.Server.fromTemplate('user', @Html(toJson(user).toString));
});
</script>
}
